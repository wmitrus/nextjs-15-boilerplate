# Environment Configuration Template
# Copy this file to .env.local, .env.development, .env.preview, .env.staging, or .env.production
# and fill in the appropriate values for your environment. Do NOT commit real secrets.
# Notes:
# - On Vercel: set real values in Settings → Environment Variables. Do not set NODE_ENV there.
# - Keep values here as examples/placeholders only.

# === Environment ===
NODE_ENV="development"                 # Local only; Vercel sets this automatically
APP_ENV="development"                  # development | preview | staging | production
APP_VERSION="1.0.0-dev"

# === Vercel (auto) ===
VERCEL_ENV=""                           # development | preview | production (auto on Vercel)
VERCEL_URL=""                           # your-deployment.vercel.app (auto on Vercel)

# === URLs and CSRF ===
APP_URL="http://localhost:3000"         # Server-only base origin for same-origin checks
NEXT_PUBLIC_APP_URL="http://localhost:3000"  # Client-visible base URL (used in metadataBase, links)
NEXT_PUBLIC_VERCEL_URL=""               # Optional: yourdomain.com / your-preview.vercel.app (client mirror used for SSR baseUrl)
CSRF_SECURE_COOKIES="false"             # true in preview/staging/production; false for local http

# === Feature Flags ===
FEATURE_FLAGS_ENABLED="true"
FEATURE_FLAGS_PROVIDER="local"          # local | launchdarkly | growthbook | vercel
GROWTHBOOK_CLIENT_KEY=""                # required if FEATURE_FLAGS_PROVIDER=growthbook
LAUNCHDARKLY_SDK_KEY=""                 # required if FEATURE_FLAGS_PROVIDER=launchdarkly

# === Multi-tenant ===
MULTI_TENANT_ENABLED="false"
DEFAULT_TENANT_ID="default"
TENANT_HEADER_NAME="x-tenant-id"

# === Database ===
DATABASE_URL=""                         # optional; set per env if used
DATABASE_POOL_SIZE="10"

# === API Rate Limiting (Upstash) ===
API_RATE_LIMIT_ENABLED="false"          # set to "true" when UPSTASH creds are provided
API_RATE_LIMIT_REQUESTS="100"
API_RATE_LIMIT_WINDOW="15m"             # e.g., 60s, 15m, 1h
DISABLE_RATE_LIMITING="false"           # disable rate limiting entirely (primarily for tests)

# === Redis (Upstash) ===
UPSTASH_REDIS_REST_URL="https://upstash.io/rest/v1"      # required when API_RATE_LIMIT_ENABLED="true" — set real value in Vercel (Preview/Prod)
UPSTASH_REDIS_REST_TOKEN="XXXXXXXXX"                     # required when API_RATE_LIMIT_ENABLED="true" — set real value in Vercel (Preview/Prod)

# === Security ===
CORS_ORIGINS="*"
ALLOWED_HOSTS=""                        # optional; comma-separated hostnames if enforced by proxy/CDN

# === Public (client-exposed) Variables ===
NEXT_PUBLIC_APP_ENV="development"
NEXT_PUBLIC_APP_VERSION="1.0.0-dev"
NEXT_PUBLIC_FEATURE_FLAGS_ENABLED="true"
NEXT_PUBLIC_MULTI_TENANT_ENABLED="false"
NEXT_PUBLIC_ANALYTICS_ENABLED="false"

# === Logging ===
LOG_DIR="logs"
LOG_LEVEL="info"                        # trace | debug | info | warn | error | fatal
FILE_LOG_LEVEL="info"
CONSOLE_LOG_LEVEL="info"
LOG_TO_FILE_PROD="false"
LOG_TO_FILE_DEV="false"

# === Authentication (Clerk) ===
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_XXXXXX"     # required (public) — set the real value in Vercel (Preview/Prod)
CLERK_SECRET_KEY="sk_test_XXXXXX"                      # required (server only) — set the real value in Vercel (Preview/Prod)

# === External Services ===
LOGFLARE_INTEGRATION_ENABLED="false"
LOGFLARE_LOG_LEVEL="info"
LOGFLARE_API_KEY=""                      # required if LOGFLARE_INTEGRATION_ENABLED="true"
LOGFLARE_SOURCE_TOKEN=""                 # required if LOGFLARE_INTEGRATION_ENABLED="true"

# === CSP allowlists for browser (optional; add exact origins you load) ===
NEXT_PUBLIC_CSP_SCRIPT_EXTRA=""          # e.g., https://js.clerk.com, https://assets.your-cdn.com
NEXT_PUBLIC_CSP_CONNECT_EXTRA=""         # e.g., https://api.your-service.com
NEXT_PUBLIC_CSP_FRAME_EXTRA=""           # e.g., https://*.clerk.com, https://*.clerk.services
NEXT_PUBLIC_CSP_IMG_EXTRA=""
NEXT_PUBLIC_CSP_FONT_EXTRA=""
NEXT_PUBLIC_CSP_STYLE_EXTRA=""

# === Demo feature flags (if used elsewhere in code) ===
FEATURE_NEW_DASHBOARD="false"
FEATURE_ADVANCED_REPORTING="false"
FEATURE_BETA_FEATURES="false"
